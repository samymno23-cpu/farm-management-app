<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Olive Farm Empire V25</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --primary: #1e3d1a; --gold: #c5a059; --light: #f4f7f4; }
        body { background-color: var(--light); font-family: 'Segoe UI', system-ui, sans-serif; padding-bottom: 90px; }

        /* Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .header-main { background: linear-gradient(135deg, var(--primary), #0a1409); color: white; padding: 40px 20px; border-radius: 0 0 40px 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .card-stat { background: white; border-radius: 20px; padding: 15px; border: none; box-shadow: 0 5px 15px rgba(0,0,0,0.05); text-align: center; }
        .stat-val { font-size: 1.5rem; font-weight: 800; color: var(--primary); }

        /* Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª */
        .btn-empire { background: white; border: none; border-radius: 20px; padding: 20px 10px; display: flex; flex-direction: column; align-items: center; gap: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); transition: 0.3s; }
        .btn-empire i { font-size: 1.8rem; color: var(--primary); }
        .btn-empire span { font-weight: bold; color: #333; font-size: 0.85rem; }
        .btn-empire:active { transform: scale(0.95); background: #f0f0f0; }

        /* Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø© */
        .page { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--light); z-index: 2000; overflow-y: auto; padding: 20px; animation: fadeIn 0.3s ease; }
        .page.active { display: block; }
        .page-header { display: flex; align-items: center; gap: 15px; margin-bottom: 25px; padding-bottom: 10px; border-bottom: 2px solid var(--gold); }
        .back-btn { font-size: 1.5rem; color: var(--primary); cursor: pointer; border: none; background: none; }

        /* Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ */
        .nav-bottom { background: white; position: fixed; bottom: 0; width: 100%; display: flex; justify-content: space-around; padding: 12px; border-radius: 25px 25px 0 0; box-shadow: 0 -5px 20px rgba(0,0,0,0.1); z-index: 1500; }
        .nav-link { border: none; background: none; color: #888; transition: 0.3s; display: flex; flex-direction: column; align-items: center; font-size: 0.7rem; }
        .nav-link.active { color: var(--primary); transform: translateY(-3px); }

        .log-card { background: white; border-radius: 15px; padding: 12px; margin-bottom: 10px; border-right: 5px solid var(--primary); }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div id="homeUI">
    <div class="header-main text-center">
        <h3 id="hFarmName" class="fw-bold">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h3>
        <div id="hWeather" class="small opacity-75 mt-2"><i class="fas fa-sun"></i> Ø·Ù‚Ø³ Ø§Ù„Ù…Ø²Ø±Ø¹Ø© Ù…ØªÙˆÙØ±</div>
    </div>

    <div class="container mt-n4 px-3">
        <div class="row g-2 mb-4">
            <div class="col-4"><div class="card-stat"><small class="text-muted small">Ø§Ù„Ù…Ø­ØµÙˆÙ„</small><div id="hKg" class="stat-val">0</div></div></div>
            <div class="col-4"><div class="card-stat"><small class="text-muted small">Ø§Ù„Ù…Ø®Ø²Ù†</small><div id="hStock" class="stat-val">0</div></div></div>
            <div class="col-4"><div class="card-stat"><small class="text-muted small">Ø§Ù„Ù…Ø§Ù„ÙŠØ©</small><div id="hMoney" class="stat-val text-success">0</div></div></div>
        </div>

        <div class="row g-2">
            <div class="col-4"><button class="btn-empire w-100" onclick="openAction('Ø±ÙŠ')"><i class="fas fa-droplet"></i><span>Ø±ÙŠ</span></button></div>
            <div class="col-4"><button class="btn-empire w-100" onclick="openAction('ØªØ³Ù…ÙŠØ¯')"><i class="fas fa-flask"></i><span>ØªØ³Ù…ÙŠØ¯</span></button></div>
            <div class="col-4"><button class="btn-empire w-100" onclick="openAction('Ø±Ø´')"><i class="fas fa-bug-slash"></i><span>Ø±Ø´</span></button></div>
            <div class="col-4"><button class="btn-empire w-100" onclick="openAction('ØªÙ‚Ù„ÙŠÙ…')"><i class="fas fa-cut"></i><span>ØªÙ‚Ù„ÙŠÙ…</span></button></div>
            <div class="col-4"><button class="btn-empire w-100" onclick="openAction('Ø´ØªÙˆÙŠØ©')"><i class="fas fa-snowflake"></i><span>Ø´ØªÙˆÙŠØ©</span></button></div>
            <div class="col-4"><button class="btn-empire w-100" onclick="openAction('Ø£Ø¹Ø·Ø§Ù„')"><i class="fas fa-tools"></i><span>Ø£Ø¹Ø·Ø§Ù„</span></button></div>
            <div class="col-4"><button class="btn-empire w-100" onclick="openAction('Ø­ØµØ§Ø¯')"><i class="fas fa-box-open"></i><span>Ø­ØµØ§Ø¯</span></button></div>
            <div class="col-4"><button class="btn-empire w-100" onclick="openFullPage('staffPage')"><i class="fas fa-users"></i><span>Ø¹Ù…Ø§Ù„Ø©</span></button></div>
            <div class="col-4"><button class="btn-empire w-100" onclick="openFullPage('financePage')"><i class="fas fa-wallet"></i><span>Ù…Ø§Ù„ÙŠØ©</span></button></div>
            <div class="col-4"><button class="btn-empire w-100" onclick="openFullPage('tasksPage')"><i class="fas fa-list-check"></i><span>Ù…Ù‡Ø§Ù…</span></button></div>
            <div class="col-4"><button class="btn-empire w-100" onclick="openAction('Ø£Ø®Ø±Ù‰')"><i class="fas fa-plus-circle"></i><span>Ø£Ø®Ø±Ù‰</span></button></div>
            <div class="col-4"><button class="btn-empire w-100" style="background: #333; color: white;" onclick="genPDF()"><i class="fas fa-file-pdf text-white"></i><span class="text-white">ØªÙ‚Ø±ÙŠØ±</span></button></div>
        </div>
    </div>
</div>

<div id="actionPage" class="page">
    <div class="page-header">
        <button class="back-btn" onclick="closeAll()"><i class="fas fa-arrow-right"></i></button>
        <h4 id="actionTitle" class="fw-bold mb-0">...</h4>
    </div>
    <div id="actionFields" class="mb-4"></div>
    <div class="card-stat mb-4">
        <label class="fw-bold mb-2 d-block">ğŸ“¸ ØµÙˆØ±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
        <input type="file" id="opPhoto" class="form-control rounded-pill">
    </div>
    <button class="btn btn-success w-100 py-3 rounded-pill fw-bold" onclick="saveAction()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­ÙØ¸</button>
</div>

<div id="financePage" class="page">
    <div class="page-header">
        <button class="back-btn" onclick="closeAll()"><i class="fas fa-arrow-right"></i></button>
        <h4 class="fw-bold mb-0">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</h4>
    </div>
    <div class="card-stat mb-3 bg-light">
        <div class="input-group mb-2">
            <input type="number" id="mAmount" class="form-control" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">
            <select id="mType" class="form-select w-25"><option value="Ø¥ÙŠØ±Ø§Ø¯">Ø¥ÙŠØ±Ø§Ø¯ (+)</option><option value="Ù…ØµØ±ÙˆÙ">Ù…ØµØ±ÙˆÙ (-)</option></select>
        </div>
        <input type="text" id="mDesc" class="form-control mb-2" placeholder="Ø¨ÙŠØ§Ù† Ø§Ù„ØµØ±Ù / Ø§Ù„Ø¯Ø®Ù„">
        <button class="btn btn-primary w-100 rounded-pill" onclick="addMoney()">Ø­ÙØ¸ Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</button>
    </div>
    <div id="financeList"></div>
</div>

<div id="staffPage" class="page">
    <div class="page-header">
        <button class="back-btn" onclick="closeAll()"><i class="fas fa-arrow-right"></i></button>
        <h4 class="fw-bold mb-0">Ø¯ÙØªØ± Ø§Ù„Ø¹Ù…Ø§Ù„Ø©</h4>
    </div>
    <div class="card-stat mb-3 bg-light">
        <input type="text" id="stName" class="form-control mb-2" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ù…Ù„">
        <div class="d-flex gap-2">
            <button class="btn btn-outline-success flex-grow-1" onclick="addStaff('Ø­Ø¶ÙˆØ±')">Ø­Ø¶ÙˆØ±</button>
            <button class="btn btn-outline-danger flex-grow-1" onclick="addStaff('ØºÙŠØ§Ø¨')">ØºÙŠØ§Ø¨</button>
            <button class="btn btn-outline-info flex-grow-1" onclick="addStaff('Ø¥Ø¬Ø§Ø²Ø©')">Ø¥Ø¬Ø§Ø²Ø©</button>
        </div>
    </div>
    <div class="table-responsive"><table class="table table-sm table-bordered text-center small"><thead class="table-dark"><tr><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„Ø¹Ø§Ù…Ù„</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th></tr></thead><tbody id="stTable"></tbody></table></div>
</div>

<div id="stockPage" class="page">
    <div class="page-header">
        <button class="back-btn" onclick="closeAll()"><i class="fas fa-arrow-right"></i></button>
        <h4 class="fw-bold mb-0">Ø§Ù„Ù…Ø®Ø§Ø²Ù†</h4>
    </div>
    <div class="card-stat mb-3">
        <input type="text" id="skItem" class="form-control mb-2" placeholder="Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù">
        <input type="number" id="skQty" class="form-control mb-3" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©">
        <button class="btn btn-primary w-100 rounded-pill" onclick="addStock()">Ø¥Ø¶Ø§ÙØ©</button>
    </div>
    <div id="skList"></div>
</div>

<div class="nav-bottom">
    <button class="nav-link active" onclick="closeAll()"><i class="fas fa-home fs-4"></i><span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></button>
    <button class="nav-link" onclick="openFullPage('farmsPage')"><i class="fas fa-layer-group fs-4"></i><span>Ù…Ø²Ø§Ø±Ø¹ÙŠ</span></button>
    <button class="nav-link" onclick="openFullPage('stockPage')"><i class="fas fa-warehouse fs-4"></i><span>Ø§Ù„Ù…Ø®Ø²Ù†</span></button>
    <button class="nav-link" onclick="openFullPage('archivePage')"><i class="fas fa-history fs-4"></i><span>Ø§Ù„Ø£Ø±Ø´ÙŠÙ</span></button>
</div>

